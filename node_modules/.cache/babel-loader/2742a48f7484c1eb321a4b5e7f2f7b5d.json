{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alvarosanchezgalvan/Desktop/WorkSpace/covid_proj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alvarosanchezgalvan/Desktop/WorkSpace/covid_proj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/alvarosanchezgalvan/Desktop/WorkSpace/covid_proj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import medical_research from\"../Static/svg/medical_research_pink.svg\";import{Link}from\"react-router-dom\";var axios=require('axios');function InitialSection(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),errorDescription=_useState6[0],setErrorDesc=_useState6[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.covid19api.com/summary\",{headers:{'Content-Type':'application/json'}}).then(function(response){setError(false);//  alert(JSON.stringify(response));\nsetResult(response.data);}).catch(function(error){// handle error\nconsole.log(error);setErrorDesc(error);setError(true);}).finally(function(){// always executed\n});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"columns\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"div\",{className:\"centered\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Global Covid-19 Statistics\"),result&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"is-result\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"New  Confirmed:\"),\" \",new Intl.NumberFormat('en-GB').format(result.Global.NewConfirmed)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Total Confirmed:\"),\" \",new Intl.NumberFormat('en-GB').format(result.Global.TotalConfirmed)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"New  Deaths:\"),\" \",new Intl.NumberFormat('en-GB').format(result.Global.NewDeaths)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Total Deaths:\"),\" \",new Intl.NumberFormat('en-GB').format(result.Global.TotalDeaths)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"New  Recovered:\"),\" \",new Intl.NumberFormat('en-GB').format(result.Global.NewRecovered)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Total  Recovered:\"),\" \",new Intl.NumberFormat('en-GB').format(result.Global.TotalRecovered)))),error&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"is-error\"},/*#__PURE__*/React.createElement(\"p\",null,\"Ups!! Something was wrong\"),/*#__PURE__*/React.createElement(\"p\",null,errorDescription.message))),/*#__PURE__*/React.createElement(Link,{to:\"/byCountry\",className:\"button is-text\"},\"See data by country\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"figure\",{className:\"image\"},/*#__PURE__*/React.createElement(\"img\",{src:medical_research,alt:\"\"}))))));}export default InitialSection;","map":{"version":3,"sources":["/Users/alvarosanchezgalvan/Desktop/WorkSpace/covid_proj/src/Sections/InitialSection.js"],"names":["React","useState","useEffect","Link","axios","require","InitialSection","result","setResult","error","setError","errorDescription","setErrorDesc","fetchData","get","headers","then","response","data","catch","console","log","finally","Intl","NumberFormat","format","Global","NewConfirmed","TotalConfirmed","NewDeaths","TotalDeaths","NewRecovered","TotalRecovered","message","medical_research"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport medical_research from '../Static/svg/medical_research_pink.svg';\nimport {Link} from \"react-router-dom\";\n\nconst axios = require('axios');\n\nfunction InitialSection() {\n    const [result, setResult] = useState();\n    const [error, setError] = useState(false);\n    const [errorDescription, setErrorDesc] = useState(false);\n    const fetchData = async () => {\n        await axios.get(`https://api.covid19api.com/summary`, {\n            headers: {\n                'Content-Type': 'application/json',\n            }\n        })\n            .then(function (response) {\n                setError(false);\n                //  alert(JSON.stringify(response));\n                setResult(response.data);\n            })\n            .catch(function (error) {\n                // handle error\n                console.log(error);\n                setErrorDesc(error);\n                setError(true);\n\n            })\n            .finally(function () {\n                // always executed\n            });\n\n\n    };\n\n    useEffect(() => { fetchData(); }, []);\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"columns\">\n                    <div className=\"column\">\n                        <div className=\"centered\">\n                            <h2>Global Covid-19 Statistics</h2>\n\n                            {result &&\n                                <>\n                                    <div className='is-result'>\n                                        <p><strong>New  Confirmed:</strong> {new Intl.NumberFormat('en-GB').format(result.Global.NewConfirmed)}</p>\n                                        <p><strong>Total Confirmed:</strong> {new Intl.NumberFormat('en-GB').format(result.Global.TotalConfirmed)}</p>\n                                        <p><strong>New  Deaths:</strong> {new Intl.NumberFormat('en-GB').format(result.Global.NewDeaths)}</p>\n                                        <p><strong>Total Deaths:</strong> {new Intl.NumberFormat('en-GB').format(result.Global.TotalDeaths)}</p>\n                                        <p><strong>New  Recovered:</strong> {new Intl.NumberFormat('en-GB').format(result.Global.NewRecovered)}</p>\n                                        <p><strong>Total  Recovered:</strong> {new Intl.NumberFormat('en-GB').format(result.Global.TotalRecovered)}</p>\n                                    </div>\n                                </>\n                            }\n\n                            {error &&\n                                <>\n                                    <div className='is-error'>\n\n                                        <p>Ups!! Something was wrong</p>\n                                        <p>{errorDescription.message}</p>\n                                        \n                                    </div>\n                                </>\n                            }\n                            <Link to='/byCountry' className=\"button is-text\">\n                                See data by country\n                            </Link>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <figure className=\"image\">\n                            <img src={medical_research} alt=\"\" />\n                        </figure>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default InitialSection;\n"]},"metadata":{},"sourceType":"module"}