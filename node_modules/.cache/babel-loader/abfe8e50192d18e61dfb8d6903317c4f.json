{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alvarosanchezgalvan/Desktop/WorkSpace/covid_proj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alvarosanchezgalvan/Desktop/WorkSpace/covid_proj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/alvarosanchezgalvan/Desktop/WorkSpace/covid_proj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import doctorsImg from\"../Static/svg/doctors_pink.svg\";import BarChart from'chart.js';var axios=require('axios');function DashboardPage(){var data=[{text:'Test A',value:500},{text:'Test B',value:300},{text:'Test C',value:350},{text:'Test D',value:200},{text:'Test E',value:230}];var _useState=useState(),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),errorDescription=_useState6[0],setErrorDesc=_useState6[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.covid19api.com/summary\",{headers:{'Content-Type':'application/json'}}).then(function(response){setError(false);//  alert(JSON.stringify(response));\nvar resultBarToDraw=response.data.Countries.map(function(item){var resultBar={};resultBar['label']=item.Country;resultBar['value']=item.TotalConfirmed;return resultBar;});setResult(resultBarToDraw);}).catch(function(error){// handle error\nconsole.log(error);setErrorDesc(error);setError(true);}).finally(function(){// always executed\n});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"dashboard\")),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"div\",{class:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"columns\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column is-half\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Total Cases\"),result&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BarChart,{data:result,title:\"Total Cases by Country\",color:\"#70CAD1\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"img\",{src:doctorsImg,alt:\"\"}),/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"button is-primary\"},\"Home\"))))));}export default DashboardPage;","map":{"version":3,"sources":["/Users/alvarosanchezgalvan/Desktop/WorkSpace/covid_proj/src/DashboardPage/DashboardPage.js"],"names":["React","useState","useEffect","Link","BarChart","axios","require","DashboardPage","data","text","value","result","setResult","error","setError","errorDescription","setErrorDesc","fetchData","get","headers","then","response","resultBarToDraw","Countries","map","item","resultBar","Country","TotalConfirmed","catch","console","log","finally","doctorsImg"],"mappings":"ugBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,uDAEA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAEA,GAAMC,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAArB,CAEA,QAASC,CAAAA,aAAT,EAAyB,CAErB,GAAMC,CAAAA,IAAI,CAAG,CACT,CAAEC,IAAI,CAAE,QAAR,CAAkBC,KAAK,CAAE,GAAzB,CADS,CAET,CAAED,IAAI,CAAE,QAAR,CAAkBC,KAAK,CAAE,GAAzB,CAFS,CAGT,CAAED,IAAI,CAAE,QAAR,CAAkBC,KAAK,CAAE,GAAzB,CAHS,CAIT,CAAED,IAAI,CAAE,QAAR,CAAkBC,KAAK,CAAE,GAAzB,CAJS,CAKT,CAAED,IAAI,CAAE,QAAR,CAAkBC,KAAK,CAAE,GAAzB,CALS,CAAb,CAFqB,cAUOT,QAAQ,EAVf,wCAUdU,MAVc,eAUNC,SAVM,8BAWKX,QAAQ,CAAC,KAAD,CAXb,yCAWdY,KAXc,eAWPC,QAXO,8BAYoBb,QAAQ,CAAC,KAAD,CAZ5B,yCAYdc,gBAZc,eAYIC,YAZJ,eAarB,GAAMC,CAAAA,SAAS,0FAAG,yJACRZ,CAAAA,KAAK,CAACa,GAAN,sCAAgD,CAClDC,OAAO,CAAE,CACL,eAAgB,kBADX,CADyC,CAAhD,EAKDC,IALC,CAKI,SAAUC,QAAV,CAAoB,CACtBP,QAAQ,CAAC,KAAD,CAAR,CACA;AACA,GAAMQ,CAAAA,eAAe,CAAGD,QAAQ,CAACb,IAAT,CAAce,SAAd,CAAwBC,GAAxB,CAA4B,SAAAC,IAAI,CAAI,CACxD,GAAMC,CAAAA,SAAS,CAAG,EAAlB,CACAA,SAAS,CAAC,OAAD,CAAT,CAAqBD,IAAI,CAACE,OAA1B,CACAD,SAAS,CAAC,OAAD,CAAT,CAAqBD,IAAI,CAACG,cAA1B,CACA,MAAOF,CAAAA,SAAP,CAEH,CANuB,CAAxB,CAOAd,SAAS,CAACU,eAAD,CAAT,CACH,CAhBC,EAiBDO,KAjBC,CAiBK,SAAUhB,KAAV,CAAiB,CACpB;AACAiB,OAAO,CAACC,GAAR,CAAYlB,KAAZ,EACAG,YAAY,CAACH,KAAD,CAAZ,CACAC,QAAQ,CAAC,IAAD,CAAR,CAEH,CAvBC,EAwBDkB,OAxBC,CAwBO,UAAY,CACjB;AACH,CA1BC,CADQ,uDAAH,kBAATf,CAAAA,SAAS,0CAAf,CAgCAf,SAAS,CAAC,UAAM,CAAEe,SAAS,GAAK,CAAvB,CAAyB,EAAzB,CAAT,CAGA,mBACI,qDACI,+CACI,0CADJ,CADJ,cAII,6CACI,2BAAK,KAAK,CAAC,WAAX,eACI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,gBAAf,eACI,4CADJ,CAEKN,MAAM,eACH,qDACI,oBAAC,QAAD,EACI,IAAI,CAAEA,MADV,CAEI,KAAK,CAAC,wBAFV,CAGI,KAAK,CAAC,SAHV,EADJ,CAHR,CADJ,cAcI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,GAAG,CAAEsB,UAAV,CAAsB,GAAG,CAAC,EAA1B,EADJ,cAEI,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,mBAAvB,SAFJ,CAdJ,CADJ,CADJ,CAJJ,CADJ,CAgCH,CAED,cAAe1B,CAAAA,aAAf","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport doctorsImg from '../Static/svg/doctors_pink.svg';\nimport BarChart from 'chart.js';\n\nconst axios = require('axios');\n\nfunction DashboardPage() {\n\n    const data = [\n        { text: 'Test A', value: 500 },\n        { text: 'Test B', value: 300 },\n        { text: 'Test C', value: 350 },\n        { text: 'Test D', value: 200 },\n        { text: 'Test E', value: 230 }\n    ];\n\n    const [result, setResult] = useState();\n    const [error, setError] = useState(false);\n    const [errorDescription, setErrorDesc] = useState(false);\n    const fetchData = async () => {\n        await axios.get(`https://api.covid19api.com/summary`, {\n            headers: {\n                'Content-Type': 'application/json',\n            }\n        })\n            .then(function (response) {\n                setError(false);\n                //  alert(JSON.stringify(response));\n                const resultBarToDraw = response.data.Countries.map(item => {\n                    const resultBar = {};\n                    resultBar['label'] = item.Country;\n                    resultBar['value'] = item.TotalConfirmed;\n                    return resultBar;\n\n                })\n                setResult(resultBarToDraw);\n            })\n            .catch(function (error) {\n                // handle error\n                console.log(error);\n                setErrorDesc(error);\n                setError(true);\n\n            })\n            .finally(function () {\n                // always executed\n            });\n\n\n    };\n\n    useEffect(() => { fetchData(); }, []);\n\n\n    return (\n        <>\n            <header>\n                <h1>dashboard</h1>\n            </header>\n            <main>\n                <div class=\"container\">\n                    <div className=\"columns\">\n                        <div className=\"column is-half\">\n                            <h3>Total Cases</h3>\n                            {result &&\n                                <>\n                                    <BarChart\n                                        data={result}\n                                        title=\"Total Cases by Country\"\n                                        color=\"#70CAD1\"\n                                    />\n                                </>\n                            }\n\n                        </div>\n                        <div className=\"column\">\n                            <img src={doctorsImg} alt=\"\" />\n                            <Link to='/' className=\"button is-primary\">\n                                Home\n                            </Link>\n                        </div>\n                    </div>\n                </div>\n            </main>\n        </>\n    );\n}\n\nexport default DashboardPage;\n"]},"metadata":{},"sourceType":"module"}